{
    "machines":[
        {
            "name": "yolo-server",
            "category": "server",
            "image": "docker.io/churong/yolo:multi-pod-no-limit-retrain",
            "command": ["/bin/sh"],
            "args": ["-c", "python3 /app/cloud_yolo_train_update.py 9876 logs/cloud.log logs/cloud.csv"],
            "port" : "9876",
            "resources":
            {
                "requests":
                {
                    "memory": "2048Mi", 
                    "cpu": "10"
                },
                 "limits":
                {
                    "cpu": "10"
                }
            },
            "volumeMounts": [
                {
                    "name": "log-volume",
                    "mountPath": "/app/logs",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/logs"
                        }
                }
            ]
        },
        {
            "name": "yolo-client-0",
            "category": "client",
            "image": "docker.io/churong/yolo:multi-pod-no-limit-retrain",
            "command": ["/bin/sh"],
            "args": ["-c", "python3 /app/edge_yolo_inference.py {} 9876 edge_inf.log edge_update.log edge_inf.csv edge_update.csv 10 0"],
            "port" : "8080",
            "resources":
            {
                "requests":
                {
                    "memory": "2048Mi", 
                    "cpu": "10"
                },
            "limits":
                {
                    "cpu": "10"
                }
            },
            "volumeMounts": [
                {
                    "name": "log-volume",
                    "mountPath": "/app/logs",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/logs/0"
                        }
                },
                {
                    "name": "dataset-volume",
                    "mountPath": "/app/content",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/content/0"
                        }
                }
            ]
        },
        {
            "name": "yolo-client-1",
            "category": "client",
            "image": "docker.io/churong/yolo:multi-pod-no-limit-retrain",
            "command": ["/bin/sh"],
            "args": ["-c", "python3 /app/edge_yolo_inference.py {} 9876 edge_inf.log edge_update.log edge_inf.csv edge_update.csv 10 1"],
            "port" : "8080",
            "resources":
            {
                "requests":
                {
                    "memory": "2048Mi", 
                    "cpu": "10"
                },
            "limits":
                {
                    "cpu": "10"
                }
            },
            "volumeMounts": [
                {
                    "name": "log-volume",
                    "mountPath": "/app/logs",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/logs/1"
                        }
                },
                {
                    "name": "dataset-volume",
                    "mountPath": "/app/content",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/content/1"
                        }
                }
            ]
        },
        {
            "name": "yolo-client-2",
            "category": "client",
            "image": "docker.io/churong/yolo:multi-pod-no-limit-retrain",
            "command": ["/bin/sh"],
            "args": ["-c", "python3 /app/edge_yolo_inference.py {} 9876 edge_inf.log edge_update.log edge_inf.csv edge_update.csv 10 2"],
            "port" : "8080",
            "resources":
            {
                "requests":
                {
                    "memory": "2048Mi", 
                    "cpu": "10"
                },
            "limits":
                {
                    "cpu": "10"
                }
            },
            "volumeMounts": [
                {
                    "name": "log-volume",
                    "mountPath": "/app/logs",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/logs/2"
                        }
                },
                {
                    "name": "dataset-volume",
                    "mountPath": "/app/content",
                    "nfs":
                        {
                            "server": "basket",
                            "path": "/users/churongj/ACAI_Emulator/YOLOv3_Train_Inference/content/2"
                        }
                }
            ]
        }
    ],
    "connections":[
        {
            "node1": "yolo-server",
            "node2": "yolo-client-0",
            "direction": "both", 
            "bandwidth": "50m",
            "latency": "200m"
        }
    ]
}